public async Task<List<BodyStateLogResponse>> GetByClientAsync(string userId)
{
    var specs = new ClientWithUserSpecs(c => c.UserId == userId);
    var profile = await _unitOfWork.Repository<ClientProfile>().GetWithSpecsAsync(specs);

    if (profile == null)
    {
        throw new InvalidOperationException("Client profile not found");
    }

    // Create a specification to get all logs for this profile
    var logsSpec = new BodyStateLogSpecification(b => b.ClientProfileId == profile.Id);
    var logs = await _unitOfWork.Repository<BodyStatLog>().GetAllWithSpecsAsync(logsSpec);

    var stateLogs = _mapper.Map<List<BodyStateLogResponse>>(logs);

    return stateLogs.OrderByDescending(b => b.LoggedAt).ToList();
}